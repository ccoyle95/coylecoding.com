<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">
    <link rel="stylesheet" href="css/main.css">
    <title>Chris Coyle's Personal Website</title>
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <script src="js/ScrollMagic.min.js"></script>

    <nav class="navbar navbar-expand-sm navbar-dark" style="background-color: #595457;"  id="navbar">
        <button class="navbar-toggler d-lg-none" type="button" data-toggle="collapse" data-target="#collapsibleNavId" aria-controls="collapsibleNavId"
            aria-expanded="false" aria-label="Toggle navigation"></button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
            <ul class="navbar-nav nav-fill w-100 align-items-center">
                <li class="nav-item active">
                    <a id="homeBtn" class="nav-link" href="#" data-target="homeSection">Home</a>
                </li>
                <li class="nav-item">
                    <a id="projectsBtn" class="nav-link" href="#" data-target="projectSection">Projects</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#"><img src="img/K_CoyleCoding-02whitetextedited.png" style="width: 200px; height: 50px;"></img></a>
                </li>
                <li class="nav-item">
                    <a id="aboutMeBtn" class="nav-link" href="#" data-target="aboutMeSection">About Me</a>
                </li>
                <li class="nav-item">
                    <a id="contactBtn" class="nav-link" href="#" data-target="contactSection">Contact</a>
                </li>
            </ul>
        </div>
    </nav>
    <div id="content-wrapper">
        <section id="homeSection" class="panel ut">
            <b>ONE</b>
        </section>
        <section id="projectSection" class="panel ut">
            <b>TWO</b>
        </section>
        <section id="aboutMeSection" class="panel ut">
            <b>THREE</b>
        </section>
        <section id="contactSection" class="panel ut">
            <b>FOUR</b>
        </section>
    </div>

    <script type="text/javascript">
        $(document).ready( function () 
        {
            $('.nav-link').on('click', function () {
                $('.active').removeClass('active');
                $(this).parent().addClass('active');
            });

            var controller = new ScrollMagic.Controller({
                globalSceneOptions: {
                    globalSceneOptions: {
                        triggerHook: 'onLeave'
                    }
                }
            });

            var slides = document.querySelector("section.panel");

            for (var i = 0; i < slides.length; i++){
                new ScrollMagic.Scene({
                    triggerElement: slides[i]
                })
                .setPin(slides[i])
                .addIndicators()
                .addTo(controller)
            }

            $('a').on('click', function () {
                scrollToSection($(this).attr("data-target"));
            })

        });

        window.onscroll = function() {stickyNavbar()};

        var navbar = document.getElementById("navbar");
        var sticky = navbar.offsetTop;

        function stickyNavbar() {
            if(window.pageYOffset >= sticky) {
                navbar.classList.add("sticky")
            } else {
                navbar.classList.remove("sticky");
            }
        }

        function scrollToSection(aid){
            var aTag = $("section[id='"+ aid +"']");
            $('html,body').animate({scrollTop: aTag.offset().top},'slow');
        }   
    </script>

</body>
</html>